# Marvelous Designer 基本インターフェースガイド

<span class="time-estimate">所要時間: 約60分</span> <span class="difficulty-beginner">初心者向け</span>

**このページの目的**: Marvelous Designerのインターフェースを完全に理解し、効率的に作業できるようになります。

!!! info "事前準備"
    - [Marvelous Designer初回起動ガイド](../setup/md-first-launch.md)を完了していること
    - Marvelous Designerが正常に動作すること
    - 新規プロジェクトを作成できること

## 🎯 今回達成する目標

1. ✅ メイン画面の全エリアを理解する
2. ✅ 基本的なツールの場所と役割を覚える
3. ✅ 効率的な操作方法を身につける
4. ✅ カスタマイズ方法を理解する
5. ✅ 実際に基本操作を実践する

## 📐 メイン画面の構成

Marvelous Designerのメイン画面は**5つの主要エリア**に分かれています:

### 🎨 1. 2Dパターンウィンドウ（左側）

<div class="step-container">
<div class="step-number">Pattern Window の役割</div>

**ここで行う作業**:
- 衣装の型紙（パターン）を作成・編集
- 平面的な作業（線描画、形状編集）
- 縫い線の設定
- 型紙のレイアウト調整

**表示されるもの**:
- ✅ **グリッド**: 作業の基準線
- ✅ **パターンピース**: 衣装の各パーツ
- ✅ **縫い線**: 赤い線（Internal Line）
- ✅ **外周線**: 青い線（Outline）

**基本操作**:
- **ズーム**: マウスホイール
- **パン（移動）**: 中ボタンドラッグ
- **全体表示**: **「Ctrl + A」** → **「F」**
</div>

### 🎭 2. 3Dビューポート（右側上部）

<div class="step-container">
<div class="step-number">3D Garment Window の役割</div>

**ここで確認できること**:
- アバター（人型モデル）
- 3D化された衣装
- 布の物理シミュレーション結果
- 実際の着用状態

**視点操作**:
- **回転**: 右ボタンドラッグ
- **パン（移動）**: 中ボタンドラッグ
- **ズーム**: マウスホイール
- **フィット表示**: **「F」** キー

**表示モード切り替え**:
- **「1」** キー: ワイヤーフレーム
- **「2」** キー: シェーディング
- **「3」** キー: テクスチャ表示
- **「4」** キー: レンダリング表示

!!! tip "視点操作のコツ"
    右クリックしながらマウスを動かすと、アバターを中心に回転できます。慣れるまで少し練習してみましょう。
</div>

### 🎛️ 3. 3D Object Browser（右側下部）

<div class="step-container">
<div class="step-number">Object Browser の使い方</div>

**表示されるもの**:
- **Avatar**: 読み込まれたアバター
- **Garments**: 作成した衣装一覧
- **Trims**: ボタンやファスナーなどの装飾

**基本操作**:
- **選択**: オブジェクト名をクリック
- **表示/非表示**: 👁️ アイコンをクリック
- **ロック**: 🔒 アイコンで編集をロック

**重要な機能**:
- オブジェクトの階層管理
- 表示・非表示の制御
- 選択状態の管理
</div>

### 🛠️ 4. ツールバー（上部）

<div class="step-container">
<div class="step-number">主要ツールの配置</div>

**左側: ファイル操作**
- **New** (新規): 新しいプロジェクト
- **Open** (開く): 既存ファイルを開く
- **Save** (保存): プロジェクトを保存

**中央: 2D描画ツール**
- **Arrow** (選択): オブジェクト選択・移動
- **Rectangle** (四角形): 長方形パターン作成
- **Circle** (円): 円形パターン作成
- **Polygon** (多角形): 複雑な形状作成
- **Curve** (曲線): カーブラインツール

**右側: シミュレーション制御**
- **▶️ Simulate**: シミュレーション開始/停止
- **⏸️ Pause**: シミュレーション一時停止
- **🔄 Reset**: 初期状態にリセット

!!! info "ツールの選択方法"
    - マウスでクリック
    - キーボードショートカット（各ツールにマウスを載せると表示）
    - 右クリックメニューからアクセス
</div>

### ⚙️ 5. プロパティパネル（右端または下部）

<div class="step-container">
<div class="step-number">Property Editor の活用</div>

**表示される設定内容**（選択したオブジェクトによって変化）:

**パターン選択時**:
- **物理特性**: 布の硬さ、重さなど
- **シミュレーション設定**: 品質、精度
- **表示設定**: 色、透明度

**アバター選択時**:
- **姿勢設定**: ポーズの調整
- **サイズ調整**: アバターのスケール
- **衝突設定**: 布との当たり判定

**重要な設定項目**:
- **Fabric Preset**: 布の種類（Cotton、Silk、Denimなど）
- **Particle Distance**: シミュレーション精度
- **Internal Lines**: 縫い線の設定

!!! warning "プロパティパネルの場所"
    バージョンやレイアウト設定により、右側または下部に表示されます。見つからない場合は **「Window」** メニューから **「Property Editor」** を選択してください。
</div>

## 📋 メニューバー詳細解説

### File（ファイル）メニュー

<div class="step-container">
<div class="step-number">よく使うFileメニュー項目</div>

**基本操作**:
- **New Project**: 新規プロジェクト作成
- **Open**: 既存プロジェクトを開く（.zprj形式）
- **Save**: 現在の作業を保存
- **Save As**: 名前を付けて保存

**インポート/エクスポート**:
- **Import**: 外部ファイル読み込み（FBX、OBJなど）
- **Export**: 他の形式で出力（FBX、OBJ、Alembicなど）

**最近使ったファイル**:
- **Recent Files**: 最近開いたプロジェクト一覧

!!! tip "ファイル管理のコツ"
    作業の節目では必ず **「Ctrl + S」** で保存する習慣をつけましょう。
</div>

### Edit（編集）メニュー

<div class="step-container">
<div class="step-number">編集機能の活用</div>

**基本編集**:
- **Undo** (Ctrl+Z): 操作を元に戻す
- **Redo** (Ctrl+Y): やり直し
- **Cut/Copy/Paste**: カット・コピー・ペースト

**環境設定**:
- **Preferences**: 全体設定（言語、単位、自動保存など）

**選択機能**:
- **Select All**: 全て選択
- **Deselect All**: 選択解除
</div>

### 2D Pattern（2Dパターン）メニュー

<div class="step-container">
<div class="step-number">パターン作成専用機能</div>

**形状作成**:
- **Add Rectangle**: 四角形追加
- **Add Circle**: 円形追加
- **Add Polygon**: 多角形追加

**パターン編集**:
- **Edit Pattern**: パターンの形状編集
- **Transform**: 変形（移動、回転、スケール）

**縫製設定**:
- **Sewing**: 縫い線の設定と実行
- **Free Sew**: 自動縫製

!!! info "パターン作成の基本流れ"
    形状作成 → 編集・調整 → 縫い線設定 → シミュレーション実行
</div>

### 3D Garment（3D衣装）メニュー

<div class="step-container">
<div class="step-number">3D表示と制御</div>

**シミュレーション制御**:
- **Simulate**: シミュレーション開始/停止
- **Reset 3D Arrangement**: 3D配置リセット
- **Reset 2D Arrangement**: 2D配置リセット

**表示設定**:
- **Display**: 表示モード切り替え
- **Show/Hide**: オブジェクトの表示切り替え

**物理設定**:
- **Simulation Properties**: シミュレーション詳細設定
- **Physical Properties**: 物理特性設定
</div>

### Avatar（アバター）メニュー

<div class="step-container">
<div class="step-number">アバター管理機能</div>

**アバター操作**:
- **Load Avatar**: アバターファイル読み込み
- **Edit Avatar**: アバターの姿勢・サイズ調整
- **Show/Hide Avatar**: アバター表示切り替え

**姿勢制御**:
- **Pose**: 事前定義された姿勢
- **Edit Pose**: カスタムポーズ作成

!!! tip "アバター読み込みについて"
    FBXファイルは **「Avatar」** → **「Load Avatar」** から読み込みます。後で詳しく説明します。
</div>

## ⌨️ 重要なキーボードショートカット

<div class="step-container">
<div class="step-number">覚えておくべき基本ショートカット</div>

**基本操作**:
- **Ctrl + N**: 新規プロジェクト
- **Ctrl + O**: ファイルを開く
- **Ctrl + S**: 保存
- **Ctrl + Z**: 元に戻す
- **Ctrl + Y**: やり直し

**表示制御**:
- **F**: 選択オブジェクトにフィット表示
- **Ctrl + A**: 全選択
- **1, 2, 3, 4**: 表示モード切り替え

**シミュレーション**:
- **Space**: シミュレーション開始/停止
- **Ctrl + R**: シミュレーションリセット

**ツール選択**:
- **A**: Arrow（選択ツール）
- **R**: Rectangle（四角形ツール）
- **C**: Circle（円ツール）

!!! success "ショートカットのメリット"
    ショートカットを覚えると作業効率が大幅に向上します。最初は基本的なものから覚えていきましょう。
</div>

## 🔄 BlenderやUnityとの操作統一設定

### Blenderとの操作統一

<div class="step-container">
<div class="step-number">Blenderライクな操作感にする設定</div>

**Blenderの業界互換キーマップ設定**:

BlenderでMarvelous Designerに近い操作感を得るには:
1. **「Edit」** → **「Preferences」** → **「Keymap」**
2. **「Industry Compatible」** を選択
3. これによりMayaやUnrealEngineなど他の3DCGソフトとの互換性が向上

**統一可能な操作**:
- **Alt + 左ボタンドラッグ**: 3Dビュー回転（両ソフト共通）
- **Alt + 中ボタンドラッグ**: パン移動（両ソフト共通）
- **Alt + 右ボタンドラッグ**: ズーム（両ソフト共通）
- **Space**: シミュレーション制御（MD）／再生制御（Blender）
- **F**: フィット表示（両ソフト共通）

!!! tip "効率的なワークフロー"
    Marvelous DesignerからBlenderに移る際は、OBJエクスポート時に「単一オブジェクト」「結合しない頂点」「薄い厚み」「統合UV座標ON」の設定を使用し、Blenderでスケールをdefaultキューブ（2m³）基準で調整します。
</div>

### Unityとの連携設定

<div class="step-container">
<div class="step-number">Unity向けの最適化設定</div>

**共通操作要素**:
- **中ボタンドラッグ**: 3Dビューの移動（両ソフト共通）
- **Alt + 左ボタン**: オービット回転操作
- **ズーム操作**: マウスホイール（両ソフト共通）
- **F**: フォーカス表示（Object focus）

**Marvelous Designer → Unity パイプライン**:
1. **FBX形式でエクスポート**: Unity互換性を考慮
2. **スケール統一**: Unity標準（1unit = 1m）に合わせる
3. **UV座標保持**: テクスチャマッピングの整合性確保
4. **ボーン構造保持**: アニメーション対応

**推奨設定**:
- エクスポート時の単位統一（メートル基準）
- マテリアル設定の互換性確保
- 物理プロパティの適切な変換
</div>

### 専用キーパッド活用

<div class="step-container">
<div class="step-number">効率化のための外部デバイス設定</div>

**推奨キーパッド設定**:
専門ユーザーの間では、**Razer Tartarus V2**などのキーパッドを活用し、Marvelous Designer特有の操作を効率化する事例があります。

**設定例**:
- よく使うツール（Rectangle、Circle、Arrow）を専用キーに割り当て
- シミュレーション制御を親指で操作可能な位置に配置
- レイヤー切り替えで2D/3D操作の切り替えを簡単に

!!! info "カスタマイズの利点"
    複数の3DCGソフトウェアを使う場合、共通の操作感を維持することで作業効率と学習効果が大幅に向上します。
</div>

## 🎨 インターフェースカスタマイズ

### レイアウトの調整

<div class="step-container">
<div class="step-number">作業しやすい画面にする</div>

**パネルサイズの調整**:
1. パネル間の境界線にマウスを載せる
2. カーソルが変わったらドラッグしてサイズ変更
3. 作業内容に応じて最適なサイズに調整

**推奨レイアウト**:
- **2Dパターンウィンドウ**: 画面の40-50%
- **3Dビューポート**: 画面の40-50%
- **Object Browser**: 適度なサイズ
- **Property Editor**: 必要時に表示

**レイアウトの保存**:
1. **「Window」** → **「Save Layout」**
2. 名前を付けて保存（例: "衣装制作用"）
3. **「Window」** → **「Load Layout」** で呼び出し可能

!!! tip "画面サイズ別の推奨設定"
    - **小さな画面**: 3Dビューポートを大きめに
    - **大きな画面**: 2Dと3Dを同じ比率で
    - **デュアルモニター**: セカンドモニターに3D表示
</div>

### ツールバーのカスタマイズ

<div class="step-container">
<div class="step-number">効率的なツール配置</div>

**よく使うツールの配置**:
1. **「Window」** → **「Customize Toolbar」**
2. よく使う機能をツールバーにドラッグ&ドロップ
3. 使わない機能は削除して整理

**推奨カスタマイズ**:
- シミュレーション制御ボタンを見やすい位置に
- よく使うパターン作成ツールをまとめて配置
- ファイル操作を左端にまとめる
</div>

## 🔧 実践練習: インターフェース操作

### 練習1: 基本操作の確認

<div class="step-container">
<div class="step-number">画面操作の練習</div>

**3Dビューポートの練習**:
1. 右ボタンドラッグでアバターを色々な角度から見る
2. マウスホイールでズームイン・アウト
3. **「F」** キーで全体表示
4. **「1」「2」「3」「4」** キーで表示モード変更

**2Dパターンウィンドウの練習**:
1. 中ボタンドラッグで画面移動
2. マウスホイールでズーム
3. 空白部分をクリックして何も選択していない状態にする

!!! success "操作に慣れました"
    これらの基本操作は今後の作業で頻繁に使います。スムーズにできるようになるまで練習しましょう。
</div>

### 練習2: 簡単なパターン作成

<div class="step-container">
<div class="step-number">ツールを使った作業練習</div>

**四角形パターンの作成**:
1. **Rectangle** ツールを選択（ツールバーまたは **「R」** キー）
2. 2Dパターンウィンドウでクリック&ドラッグ
3. 適当なサイズの四角形を作成
4. **Arrow** ツール（**「A」** キー）に戻す

**円形パターンの作成**:
1. **Circle** ツールを選択（**「C」** キー）
2. 2Dパターンウィンドウでクリック&ドラッグ
3. 円を作成
4. **Arrow** ツールに戻す

**シミュレーション実行**:
1. **Space** キーを押す
2. 作成したパターンが3Dビューポートに表示される
3. 重力で落下する様子を確認
4. 再度 **Space** キーでシミュレーション停止

!!! success "基本操作完了"
    これでMarvelous Designerの基本的な操作の流れが理解できました！
</div>

### 練習3: プロパティ編集

<div class="step-container">
<div class="step-number">設定変更の練習</div>

**布の特性変更**:
1. 作成した四角形を選択
2. Property Editorで **「Physical Property」** を確認
3. **「Fabric Preset」** を変更してみる（例: Cotton → Silk）
4. シミュレーションを実行して違いを確認

**色の変更**:
1. パターンを選択した状態で
2. Property Editorの **「Color」** で色を変更
3. 3Dビューポートで色の変化を確認

!!! info "設定の効果"
    異なる布の種類を選ぶと、硬さや重さが変わり、シミュレーション結果も変わります。
</div>

## ✅ 理解度チェック

<div class="progress-checklist">
<h4>Marvelous Designer インターフェース理解完了</h4>

- [ ] 5つの主要エリア（2D、3D、Object Browser、ツールバー、プロパティ）の場所と役割を理解した
- [ ] 3Dビューポートの視点操作（回転、ズーム、パン）ができる
- [ ] 2Dパターンウィンドウの基本操作ができる
- [ ] 主要なメニュー項目の場所と機能を把握した
- [ ] 基本的なキーボードショートカットを覚えた
- [ ] レイアウトカスタマイズの方法を理解した
- [ ] Rectangle、Circle ツールでパターンを作成できた
- [ ] シミュレーションの開始・停止ができた
- [ ] Property Editor でプロパティを変更できた
- [ ] 作成したレイアウトを保存した
</div>

## 🔧 トラブルシューティング

### インターフェース関連

??? question "「パネルが見えなくなった」"
    **対処法**:
    1. **「Window」** メニューから該当パネルを再表示
    2. **「Window」** → **「Reset Layout」** で初期状態に戻す
    3. パネルの境界をドラッグしてサイズを調整

??? question "「ツールバーが表示されない」"
    **対処法**:
    1. **「View」** → **「Toolbars」** で該当ツールバーを有効化
    2. **「Window」** → **「Customize Toolbar」** で再設定

??? question "「操作が重い・遅い」"
    **対処法**:
    1. **「Edit」** → **「Preferences」** → **「3D Graphics」** でグラフィック設定を下げる
    2. 表示品質を下げる（**「2」** キーでシェーディング表示）
    3. 不要なオブジェクトを非表示にする

### 操作関連

??? question "「シミュレーションが動かない」"
    **対処法**:
    1. パターンが作成されているか確認
    2. **「3D Garment」** → **「Simulation Properties」** でGravity（重力）が有効になっているか確認
    3. パターンが適切なサイズで作成されているか確認

## 🌟 次のステップ

Marvelous Designerの基本インターフェースをマスターしました！

次は実際にアバターを読み込んで、衣装制作の実践に入りましょう:

[アバター読み込みガイドに進む →](../workflows/avatar-import.md){ .md-button .md-button--primary }

または、より詳しい概念を学びたい場合は:

[3Dモデリング基本概念を学ぶ →](basic-concepts.md){ .md-button }

!!! success "インターフェースマスター完了！"
    お疲れ様でした！これでMarvelous Designerを効率的に使うための基礎が完成しました。実際の衣装制作でこれらの知識を活用していきましょう！

## 📚 参考情報

### ショートカット早見表

| 機能 | Marvelous Designer | Blender | Unity | 説明 |
|------|-------------------|---------|-------|---------|
| 保存 | Ctrl + S | Ctrl + S | Ctrl + S | プロジェクトを保存 |
| 元に戻す | Ctrl + Z | Ctrl + Z | Ctrl + Z | 直前の操作を取り消し |
| やり直し | Ctrl + Y | Ctrl + Y | Ctrl + Y | 取り消した操作を再実行 |
| 全体表示 | F | F（選択）/ Numpad . | F | 選択オブジェクトを画面にフィット |
| シミュレーション/再生 | Space | Space | Space | シミュレーション・再生制御 |
| 選択ツール | A | A | Q（統合ツール） | 選択・移動ツール |
| 回転 | - | R | E | オブジェクト回転 |
| スケール | - | S | R | オブジェクトスケール |
| ビュー回転 | 右ドラッグ | Alt + 左ドラッグ | Alt + 左ドラッグ | 3Dビューの回転 |
| パン移動 | 中ドラッグ | Alt + 中ドラッグ | 中ドラッグ | 3Dビューの移動 |
| ズーム | ホイール | Alt + 右ドラッグ/ホイール | ホイール | 3Dビューのズーム |

### 表示モード一覧

| キー | 表示モード | 用途 | Blender対応 |
|------|------------|------|-------------|
| 1 | Wireframe | 線のみ表示（軽い） | Z → 1（Wireframe） |
| 2 | Shaded | 陰影付き表示（標準） | Z → 2（Solid） |
| 3 | Textured | テクスチャ表示 | Z → 3（Material Preview） |
| 4 | Rendered | 高品質レンダリング | Z → 4（Rendered） |

### 他の3DCGソフトウェアとの互換性

**データ形式の統一**:
- **FBX**: Unity、Maya、3ds Maxとの互換性が高い
- **OBJ**: Blender、ZBrushなど幅広いソフトで対応
- **Alembic**: 高精度アニメーション・シミュレーション用

**推奨ワークフロー**:
1. Marvelous Designerで衣装制作・シミュレーション
2. 適切な形式でエクスポート（用途に応じてFBX/OBJ選択）
3. BlenderまたはUnityで最終調整・統合
4. 必要に応じてVRChatやその他プラットフォーム向けに最適化
